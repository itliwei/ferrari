### Ferrari

 作为房源相关数据变更消息中转的枢纽来保证各系统间的数据一致性。
 

#### 发送端失败重试

 - 消息在业务层面的唯一标识码：一定要有key方便消息丢失。    key 尽可能唯一，避免哈希冲突

 - 如果调用send同步方法发送失败，将消息存储到db 后台定时重试，保证消息一定到达broker

#### 消费

 - 消费做到幂等，根据唯一字段去重

 - 考虑消费的并行度， 根据具体的量来调优
 
 

#### 消息日志表

 - 作为metrics引入


#### 分库(本期暂不实现)

 - 分片键：

#### 接口

 - 对外提供异步接口，不影响业务主流程进行
